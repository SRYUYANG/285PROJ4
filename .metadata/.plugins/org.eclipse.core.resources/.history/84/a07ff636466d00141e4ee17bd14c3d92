package main;

import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.net.ServerSocket;
import java.net.Socket;

import javax.swing.JFrame;

import ui.GameFrame;

public class Main 
{
  private static ServerSocket serverSocket;
  private static Socket clientSocket;
  private static boolean serverRunning = false;

  private ObjectOutputStream outputStream;
  private ObjectInputStream inputStream;
  
  
  public void setupStreams(Socket s) throws IOException
  {
    outputStream = new ObjectOutputStream(s.getOutputStream());
    inputStream = new ObjectInputStream(s.getInputStream());
  }
  public void startServer() throws IOException
  {
    System.out.println("Server: Starting....");
    serverSocket = new ServerSocket(Settings.SERVER_PORT);
    System.out.println("Connection successful");
    serverRunning = true;
    
    while(serverRunning)
    {
      clientSocket = serverSocket.accept();
      System.out.println("Server: Client connected from: " + clientSocket.getInetAddress().getHostAddress());
      setupStreams(clientSocket);
    }
  }
  
  
  
	public static void main(String[] args)
	{
		System.out.println("Game Start!");
		//here we only place a short initialization functions
		
		try
    {
      startServer();
    }
    catch( IOException e )
    {
      // TODO: handle exception
    }
		
	}
}
